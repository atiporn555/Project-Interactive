<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏≤‡∏ù‡∏ô - ‡πÉ‡∏ä‡πâ‡∏õ‡∏≤‡∏Å‡∏Å‡∏±‡∏î‡∏°‡∏∑‡∏≠‡πÑ‡∏ó‡∏°‡πå</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      background-image: url('images/blood-hand.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      color: white;
      font-family: 'Kanit', sans-serif;
      height: 100vh;
      user-select: none;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      padding: 40px 20px;
      box-sizing: border-box;
      transition: background-image 1s ease-in-out;
    }

    .scene-container {
      width: 100%;
      max-width: 600px;
      text-align: center;
    }

    .caption {
      font-size: 1.3rem;
      line-height: 1.6;
      white-space: pre-line;
      text-shadow:
        2px 2px 4px rgba(0,0,0,0.8),
        -2px 2px 4px rgba(0,0,0,0.8),
        2px -2px 4px rgba(0,0,0,0.8),
        -2px -2px 4px rgba(0,0,0,0.8),
        0 0 6px rgba(0,0,0,0.9),
        0 0 8px rgba(0,0,0,0.85);
      opacity: 1;
      transition: opacity 0.5s ease;
      min-height: 80px;
    }

    .name, .fon, .time, .narration { color: white; }
    .name { font-weight: 700; margin-right: 0.4em; }
    .narration { font-style: italic; }

    .volume-controls {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(0,0,0,0.3);
      padding: 6px 10px;
      border-radius: 8px;
      z-index: 1000;
    }
    .volume-controls input[type="range"] { width: 120px; accent-color: red; }
    .volume-button {
      background-color: rgba(50,50,50,0.6);
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 6px;
      padding: 6px 10px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.1s ease;
    }
    .volume-button:hover { background-color: rgba(255,0,0,0.6); transform: scale(1.05); }

    @keyframes fadeIn { from { opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
    .fade-in { animation: fadeIn 0.6s ease-out both; }
  </style>
</head>
<body id="body">

  <div class="volume-controls" onclick="event.stopPropagation()">
    <button class="volume-button" id="vol-down">üîâ</button>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
    <button class="volume-button" id="vol-up">üîä</button>
  </div>

  <div class="scene-container">
    <div class="caption" id="caption-text"></div>
  </div>

  <audio id="bg-sound" src="sounds/bass-horror-movie-pad-391595.mp3" loop></audio>
  <audio id="sfx-laugh" src="sounds/evil-man-laughing-107079.mp3"></audio>
  <audio id="sfx-punch" src="sounds/punch-03-352040.mp3"></audio>
  <audio id="sfx-cry" src="sounds/woman-crying-softly-268484.mp3"></audio>

  <script>
    const lines = [
      { text: '‡πÑ‡∏ó‡∏°‡πå: ‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏Å‡∏±‡∏î‡∏Å‡∏π‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏∂‡∏á‡∏à‡∏∞‡∏£‡∏≠‡∏î‡∏´‡∏£‡∏≠!!!?', sfx: 'sfx-laugh' },
      { text: '‡∏ù‡∏ô: ‡∏û‡∏µ‡πà‚Ä¶‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ù‡∏ô‡πÑ‡∏õ‡πÄ‡∏ñ‡∏≠‡∏∞ ‡∏Ç‡∏≠‡∏£‡πâ‡∏≠‡∏á‡∏ô‡∏∞‚Ä¶ ‡∏ù‡∏ô‡∏Å‡∏•‡∏±‡∏ß‚Ä¶', sfx: null },
      { text: '‡πÅ‡∏ï‡πà‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ú‡∏•... ‡πÄ‡∏Ç‡∏≤‡πÇ‡∏Å‡∏£‡∏ò‡∏à‡∏±‡∏î ‡∏£‡∏≤‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ç‡∏±‡∏î‡∏Ç‡∏∑‡∏ô ‡πÄ‡∏Ç‡∏≤‡∏Å‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏â‡∏±‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏£‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡∏ß‡∏µ‡πà‡∏¢‡∏á‡∏â‡∏±‡∏ô‡∏•‡∏á‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô', sfx: null },
      { text: '‡∏´‡∏°‡∏±‡∏î‡∏´‡∏ô‡∏±‡∏Å ‡πÜ ‡∏Å‡∏£‡∏∞‡πÅ‡∏ó‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏ó‡πâ‡∏≠‡∏á‡∏ã‡πâ‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡∏ã‡πâ‡∏≥‡πÄ‡∏•‡πà‡∏≤ ‚Äî', sfx: 'sfx-punch' },
      { text: '‡πÅ‡∏£‡∏á‡πÄ‡∏à‡πá‡∏ö‡πÅ‡∏™‡∏ö‡∏ó‡∏∏‡∏Å‡∏à‡∏∏‡∏î ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏à‡∏∞‡πÅ‡∏ï‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á', sfx: null },
      { text: '‡∏â‡∏±‡∏ô‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏î‡∏¥‡πâ‡∏ô ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏£‡∏á‡πÉ‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Ñ‡πà‡∏≠‡∏¢ ‡πÜ ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ ‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏£‡πà‡∏≤‡∏°‡∏±‡∏ß ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏ô‡∏ô‡πâ‡∏≥', sfx: 'sfx-cry' },
      { text: '‡πÄ‡∏à‡πá‡∏ö...‡∏Å‡∏•‡∏±‡∏ß...‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢...', sfx: null },
      { text: '‡∏â‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏û‡∏π‡∏î‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏ö‡∏≤ ‡πÜ ‡∏£‡∏≤‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡∏ã‡∏¥‡∏ö', sfx: null }
    ];

    const captionEl = document.getElementById('caption-text');
    const bgSound = document.getElementById('bg-sound');
    const volumeSlider = document.getElementById('volumeSlider');

    let index = 0;
    let soundStarted = false;

    function nextLine() {
      // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‡∏à‡∏∞‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Die.html
      if(index === lines.length - 1){
        window.location.href = "Die.html";
        return;
      }

      const line = lines[index];

      if(!soundStarted){
        bgSound.volume = volumeSlider.value;
        bgSound.play().catch(()=>console.log("‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á"));
        soundStarted = true;
      }

      let html = '';

      if(line.text.includes(':')){
        const speaker = line.text.split(':')[0].trim();
        const content = line.text.split(':').slice(1).join(':').trim();
        html = `<span class="name">${speaker}:</span> ${content}`;
      } else {
        html = `<span class="narration">${line.text}</span>`;
      }

      if(line.sfx){
        const sfx = document.getElementById(line.sfx);
        if(sfx){ sfx.currentTime = 0; sfx.play(); }
      }

      captionEl.style.opacity = 0;
      setTimeout(()=>{
        captionEl.innerHTML = `<div class="fade-in">${html}</div>`;
        captionEl.style.opacity = 1;
        index++;
      }, 300);
    }

    volumeSlider.addEventListener('input', ()=>{ bgSound.volume = volumeSlider.value; });
    document.getElementById('vol-down').addEventListener('click', e=>{ e.stopPropagation(); bgSound.volume=Math.max(0,bgSound.volume-0.05); volumeSlider.value=bgSound.volume; });
    document.getElementById('vol-up').addEventListener('click', e=>{ e.stopPropagation(); bgSound.volume=Math.min(1,bgSound.volume+0.05); volumeSlider.value=bgSound.volume; });

    document.body.addEventListener('click', nextLine);
  </script>

</body>
</html>
