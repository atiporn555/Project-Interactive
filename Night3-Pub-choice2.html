<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<title>5 ‡∏Ñ‡∏∑‡∏ô‡∏™‡∏¢‡∏≠‡∏á - ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</title>
<link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="Night3-Pub-choice2.css">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Kanit', sans-serif; }
  body {
    background: url('images/bad-man.png') center/cover no-repeat fixed;
    color: white;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
    text-align: center;
    padding: 20px;
    cursor: pointer;
    overflow: hidden;
    transition: background 1s ease-in-out;
  }
  .scene-container { max-width: 640px; width: 100%; }
  .image-placeholder { display: none !important; }
  .text-box {
    font-size: 1.05rem;
    min-height: 60px;
    opacity: 0;
    transition: opacity 0.6s ease-in-out;
    margin-bottom: 20px;
    white-space: pre-line;
    text-shadow: 1px 1px 4px rgba(0,0,0,0.7);
  }
  /* ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á */
  .volume-controls {
    position: fixed;
    top: 20px;
    right: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(0,0,0,0.3);
    padding: 6px 10px;
    border-radius: 8px;
    z-index: 1000;
    cursor: auto;
  }
  .volume-controls input[type="range"] { width: 120px; accent-color: red; }
  .volume-button { 
    background-color: rgba(255,255,255,0.1);
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: 6px;
    padding: 6px 10px;
    color: white;
    font-weight: bold;
    cursor: pointer;
  }
</style>
</head>
<body>

<div class="scene-container">
  <div class="image-placeholder" id="image-box">[‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏ú‡∏±‡∏ö]</div>
  <div class="text-box" id="text-box"></div>
</div>

<audio id="bg-music" src="sounds/club-music-loop-74178.mp3" preload="auto" loop></audio>
<audio id="phone-sfx" src="sounds/mobile-vibrate-sfx-323777.mp3" preload="auto"></audio>

<div class="volume-controls" onclick="event.stopPropagation()">
  <button class="volume-button" id="vol-down">üîâ</button>
  <input type="range" id="volumeSlider" min="0" max="1" step="0.01">
  <button class="volume-button" id="vol-up">üîä</button>
</div>

<script>
const textBox = document.getElementById("text-box");
const bgMusic = document.getElementById("bg-music");
const phoneSfx = document.getElementById("phone-sfx");
const volumeSlider = document.getElementById("volumeSlider");
const volUp = document.getElementById("vol-up");
const volDown = document.getElementById("vol-down");

bgMusic.volume = 0.5;
volumeSlider.value = bgMusic.volume;

const texts = [
  "‡∏ä‡∏≤‡∏¢‡πÅ‡∏õ‡∏•‡∏Å‡∏´‡∏ô‡πâ‡∏≤: ‡∏î‡∏∑‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏°‡∏±‡πâ‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö?",
  "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡πÅ‡∏ï‡πà‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏î‡∏∑‡πà‡∏°‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡∏ß‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞",
  "‡∏ä‡∏≤‡∏¢‡πÅ‡∏õ‡∏•‡∏Å‡∏´‡∏ô‡πâ‡∏≤: ‡πÅ‡∏´‡∏°...‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡πÅ‡∏ß‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡∏ô‡∏±‡πâ‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏á",
  "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡∏Å‡πá‡πÅ‡∏Ñ‡πà‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏ï‡∏±‡∏ß‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡πà‡∏∞‡∏Ñ‡πà‡∏∞",
  "(‡∏ä‡∏≤‡∏¢‡πÅ‡∏õ‡∏•‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏±‡∏Å‡∏™‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡πÄ‡∏î‡∏¥‡∏ô‡∏à‡∏≤‡∏Å‡πÑ‡∏õ)",
  "‡πÄ‡∏≠‡∏°‡∏µ‡πà: ‡πÅ‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏≤‡πÄ‡∏´‡∏£‡∏≠? ‡πÄ‡∏Ç‡∏≤‡∏Å‡πá‡∏î‡∏π‡πÇ‡∏≠‡πÄ‡∏Ñ‡∏î‡∏µ‡∏ô‡∏∞",
  "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡∏Å‡πá‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡πÄ‡∏Ç‡∏≤‡∏≠‡∏∞...‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡πÉ‡∏à‡πÉ‡∏Ñ‡∏£‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏ï‡∏≤‡∏¢",
  "‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß: ‡∏à‡∏£‡∏¥‡∏á ‡πÅ‡∏Å‡∏ó‡∏≥‡∏ñ‡∏π‡∏Å‡πÅ‡∏•‡πâ‡∏ß...‡∏â‡∏±‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Å‡∏•‡πâ‡∏≤‡∏î‡∏∑‡πà‡∏°‡πÄ‡∏•‡∏¢",
  "‡πÄ‡∏≠‡∏°‡∏µ‡πà: ‡∏Å‡πá‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏ô‡∏≠‡∏∞ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ô‡∏µ‡πâ‡∏Ç‡πà‡∏≤‡∏ß‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢‡∏≠‡∏∞‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÇ‡∏î‡∏ô‡∏ß‡∏≤‡∏á‡∏¢‡∏≤",
  "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡∏´‡∏∑‡∏°?",
  "[‡∏ï‡∏∑‡∏î‡∏î! ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏î‡∏±‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏ö‡∏≤ ‡πÜ]",
  "‡∏â‡∏±‡∏ô‡πÄ‡∏ú‡∏•‡∏≠‡∏°‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠...‡πÅ‡∏•‡πâ‡∏ß‡∏ñ‡∏∂‡∏á‡∏ô‡∏∂‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏î‡πâ",
  "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏â‡∏±‡∏ô‡∏ô‡∏±‡∏î‡∏Å‡∏±‡∏ö '‡∏ö‡∏¥‡πä‡∏Å' ‚Äî ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏∏‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ"
];

let index = 0;
let isTransitioning = false;

function nextText() {
  if(isTransitioning) return;
  isTransitioning = true;
  textBox.style.opacity = 0;

  setTimeout(() => {
    if(index < texts.length) {
      textBox.textContent = texts[index++];
      textBox.style.opacity = 1;
      isTransitioning = false;

      // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
      if(bgMusic.paused){
        bgMusic.play().catch(e => console.log("‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:", e));
      }

      // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
      if(textBox.textContent.includes("[‡∏ï‡∏∑‡∏î‡∏î!")){
        phoneSfx.currentTime = 0;
        phoneSfx.play().catch(e => console.log("‡πÄ‡∏•‡πà‡∏ô SFX ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:", e));
      }

    } else {
      window.location.href = "Night3-Chatbig-for-Choice2.html";
    }
  }, 500);
}

// ‡∏Ñ‡∏•‡∏¥‡∏Å anywhere ‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
document.body.addEventListener('click', nextText);

// ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á
volUp.addEventListener('click', e => { e.stopPropagation(); bgMusic.volume = Math.min(bgMusic.volume + 0.1,1); volumeSlider.value = bgMusic.volume; });
volDown.addEventListener('click', e => { e.stopPropagation(); bgMusic.volume = Math.max(bgMusic.volume - 0.1,0); volumeSlider.value = bgMusic.volume; });
volumeSlider.addEventListener('input', e => { bgMusic.volume = e.target.value; });

// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏Å
window.addEventListener('DOMContentLoaded', () => {
  nextText();
});
</script>
</body>
</html>
