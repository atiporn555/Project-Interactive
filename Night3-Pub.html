<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>5 à¸„à¸·à¸™à¸ªà¸¢à¸­à¸‡ - à¸„à¸·à¸™à¸—à¸µà¹ˆ 3</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="Night3-Pub.css">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Kanit', sans-serif; }
    body {
      background-color: #111;
      color: white;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      padding: 40px 20px;
      cursor: pointer;
    }
    .scene-container { width: 100%; max-width: 640px; text-align: center; }
    .night-label {
      font-size: 1.6rem;
      font-weight: bold;
      margin-bottom: 10px;
      opacity: 0;
      transition: opacity 1s ease;
    }
    .text-box {
      font-size: 1.2rem;
      min-height: 60px;
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }

    /* à¸›à¸¸à¹ˆà¸¡à¸›à¸£à¸±à¸šà¹€à¸ªà¸µà¸¢à¸‡ */
    .volume-controls {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(0,0,0,0.3);
      padding: 6px 10px;
      border-radius: 8px;
      z-index: 1000;
    }
    .volume-controls input[type="range"] { width: 120px; accent-color: red; }
    .volume-button { background-color: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); border-radius: 6px; padding: 6px 10px; color: white; font-weight: bold; cursor: pointer; }
  </style>
</head>
<body onclick="nextText()">
  <div class="scene-container">
    <div class="night-label" id="night-label">à¸„à¸·à¸™à¸—à¸µà¹ˆ 3</div>
    <div class="text-box" id="text-box"></div>
  </div>

  <!-- à¹€à¸žà¸¥à¸‡ background -->
  <audio id="bg-music" src="sounds/club-music-loop-74178.mp3" preload="auto" loop></audio>

  <!-- à¸›à¸¸à¹ˆà¸¡à¸›à¸£à¸±à¸šà¹€à¸ªà¸µà¸¢à¸‡ -->
  <div class="volume-controls" onclick="event.stopPropagation()">
    <button class="volume-button" id="vol-down">ðŸ”‰</button>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01">
    <button class="volume-button" id="vol-up">ðŸ”Š</button>
  </div>

  <script>
    const texts = [
      "â€œà¸„à¸·à¸™à¸™à¸µà¹‰...à¸‰à¸±à¸™à¸¥à¸²à¸‡à¸²à¸™à¸ˆà¸²à¸à¸£à¹‰à¸²à¸™à¸ªà¸°à¸”à¸§à¸à¸‹à¸·à¹‰à¸­â€",
      "â€œà¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸¡à¸µà¹€à¸«à¸•à¸¸à¸œà¸¥à¸žà¸´à¹€à¸¨à¸©à¸­à¸°à¹„à¸£à¸«à¸£à¸­à¸ à¹à¸„à¹ˆ...à¸­à¸¢à¸²à¸à¸­à¸­à¸à¹„à¸›à¹€à¸ˆà¸­à¹€à¸žà¸·à¹ˆà¸­à¸™ à¹† à¸šà¹‰à¸²à¸‡â€",
      "â€œà¸¡à¸±à¸™à¸™à¸²à¸™à¸¡à¸²à¸à¹à¸¥à¹‰à¸§ â€” à¸—à¸µà¹ˆà¸‰à¸±à¸™à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸«à¸±à¸§à¹€à¸£à¸²à¸°à¹€à¸ªà¸µà¸¢à¸‡à¸”à¸±à¸‡ à¹† à¸«à¸£à¸·à¸­à¸›à¸¥à¹ˆà¸­à¸¢à¸•à¸±à¸§à¹ƒà¸«à¹‰à¸ªà¸™à¸¸à¸à¹à¸šà¸šà¸™à¸µà¹‰â€",
      "â€œà¸šà¸²à¸‡à¸—à¸µ...à¸‰à¸±à¸™à¸à¹‡à¹à¸„à¹ˆà¸­à¸¢à¸²à¸à¸¥à¸·à¸¡à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¸ªà¸¶à¸à¹à¸›à¸¥à¸ à¹† à¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™à¹ƒà¸™à¸ªà¸­à¸‡à¸„à¸·à¸™à¸à¹ˆà¸­à¸™à¹ƒà¸«à¹‰à¸«à¸¡à¸”à¹„à¸›â€",
      "\"à¸„à¸·à¸™à¸™à¸µà¹‰...à¸‰à¸±à¸™à¹à¸„à¹ˆà¸ˆà¸°à¸ªà¸™à¸¸à¸à¹ƒà¸«à¹‰à¹€à¸•à¹‡à¸¡à¸—à¸µà¹ˆ à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸„à¸´à¸”à¸­à¸°à¹„à¸£à¹à¸¥à¹‰à¸§\""
    ];

    let index = 0;
    const textBox = document.getElementById("text-box");
    const nightLabel = document.getElementById("night-label");

    const bgMusic = document.getElementById('bg-music');
    const volumeSlider = document.getElementById('volumeSlider');
    const volUp = document.getElementById('vol-up');
    const volDown = document.getElementById('vol-down');
    let firstClick = true;

    // à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸‚à¸­à¸‡ volume slider
    bgMusic.volume = 0.5;
    volumeSlider.value = bgMusic.volume;

    function nextText() {
      // à¹€à¸¥à¹ˆà¸™à¹€à¸žà¸¥à¸‡à¸„à¸£à¸±à¹‰à¸‡à¹à¸£à¸à¸«à¸¥à¸±à¸‡à¸„à¸¥à¸´à¸
      if (firstClick) {
        bgMusic.play().catch(err => console.log("à¹€à¸¥à¹ˆà¸™à¹€à¸žà¸¥à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰:", err));
        firstClick = false;
      }

      if (index === 0) nightLabel.style.opacity = 1;

      if (index < texts.length) {
        textBox.style.opacity = 0;
        setTimeout(() => {
          textBox.textContent = texts[index];
          textBox.style.opacity = 1;
          index++;
        }, 500);
      } else if (index === texts.length) {
        setTimeout(() => { window.location.href = "Night3-Insidepub.html"; }, 1000);
      }
    }

    // à¸›à¸¸à¹ˆà¸¡à¸›à¸£à¸±à¸šà¹€à¸ªà¸µà¸¢à¸‡
    volUp.addEventListener('click', e => {
      e.stopPropagation();
      bgMusic.volume = Math.min(bgMusic.volume + 0.1, 1);
      volumeSlider.value = bgMusic.volume;
    });
    volDown.addEventListener('click', e => {
      e.stopPropagation();
      bgMusic.volume = Math.max(bgMusic.volume - 0.1, 0);
      volumeSlider.value = bgMusic.volume;
    });
    volumeSlider.addEventListener('input', e => { bgMusic.volume = e.target.value; });
  </script>
</body>
</html>
