<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>เรื่องเล่าฝน</title>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      background: #111;
      color: white;
      font-family: 'Prompt', sans-serif;
      margin: 0;
      padding: 40px 20px;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      height: 100vh;
      box-sizing: border-box;
      user-select: none;
      cursor: pointer;
    }

    .scene-container {
      width: 100%;
      max-width: 600px;
      text-align: center;
      font-size: 1.15rem;
      line-height: 1.6;
      white-space: pre-line;
      min-height: 180px;
    }

    .caption-line {
      margin: 1em 0;
    }

    .narration {
      font-style: italic;
      color: #ccc;
    }

    .speaker {
      font-weight: 600;
      margin-right: 0.4em;
    }

    .fon { color: #66ccff; }   /* สีฟ้าสำหรับฝน */
    .time { color: #ff6666; }  /* สีแดงสำหรับไทม์ */
    .teen { color: #90ee90; }  /* สีเขียวอ่อนสำหรับบิ๊ก */

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.6s ease-out both;
    }
  </style>
</head>
<body onclick="nextLine()">
  <div class="scene-container">
    <div id="caption-text"></div>
  </div>

  <script>
    const lines = [
      'ฝน: พี่ ปล่อยฝนเถอะ! ฝนไม่มีอะไรจะให้แล้ว พี่อยากได้อะไรก็เอาไปเลย! แต่อย่าทำอะไรฝนเลยนะ...',
      'ฉันยกมือขึ้นพนมไหว้ ร้องขอชีสิตทั้งน้ำตา แต่ดูเหมือนเขาไม่รับฟังอะไรเลย ดวงตาของเขาเต็มไปด้วยความคลุ้มคลั่งราวกับขาดสติ ฉันพยายามดิ้นสุดแรง ทุบตีเพื่อผลักเขาออก แต่แรงของฉันไม่อาจต้านเชาได้',
      'แต่แล้วเหมือนโชคชะตาจะเข้าข้างฉัน แสงจากรถยนต์คันหนึ่งสาดเข้ามาในความมืด ฉันเห็นโอกาสจึงรีบเปล่งเสียงร้องขอความช่วยเหลือ',
      'ฝน: "ช่วยด้วยค่ะ! ช่วยด้วย! มันจะข่มขืนหนู!"',
      'ไทม์: "เงียบ!"',
      'บิ๊ก: "เฮ้ย! ทำไรวะ!"',
      'ฝน: บิ๊ก!!?',
      'ไทม์: "ผัวเมียทะเลาะกันเอง อย่าเสือก!"',
      'บิ๊ก: "ผัวเมียไรวะ! นั่นแฟนกู!"',
      'ฝน: "พี่ปล่อยฝนเถอะนะ ฝนขอร้อง"',
      'บิ๊ก: "ปล่อยดิวะ!"',
      'ไทม์: "ก็บอกว่าเมียกูไง!"',
      'บิ๊ก: "ไม่ปล่อยใช่มั้ย? เดี๋ยวมึงเจอกู"',
      'บิ๊กเปิดประตูรถและเหมือนกำลังหาอะไรบางอย่าง',
      'บิ๊ก: "ถ้ามึงไม่ปล่อยกูยิง!"',
      'ไทม์: "แม่ง!"',
      'เมื่อเขาเห็นว่าบิ๊กมีปืน เขาก็รีบปล่อยฉันและวิ่งหนีไปทันที',
      'ไทม์: "ระวังตัวไว้เถอะฝน...คราวหน้ากูเอามึงตายแน่!"',
      'หลังพูดจบ เขาก็รีบหนีไปทันที ฉันยังคงตัวสั่น น้ำตาไหลด้วยความหวาดกลัว บิ๊กพยายามจะตามเขาไปแต่ฉันรั้งไว้ ขอให้พาไปส่งที่โรงพักก่อน เพราะไม่กล้าอยู่ตรงนี้ตามลำพัง',
      'เมื่อเรื่องถึงโรงพัก คนรอบตัวฉันต่างตกใจมากเพื่อนทุกคนก็รีบตามมาสมทบในเวลาไม่นาน โชคดีที่บิ๊กรู้สึกเป็นห่วงฉันเขาจึงขับรถกลับมา',
      'ฉันให้การอย่างละเอียดเกี่ยวกับรูปพรรณของคนร้าย ตำรวจจึงค้นข้อมูลย้อนหลัง — และนั่นทำให้ฉันช็อกอีกครั้ง…\nพี่ไทม์คือโรคจิตที่เคยก่อเหตุในลักษณะนี้มาแล้วหลายครั้ง\nและสิ่งที่น่าตกใจยิ่งกว่านั้นคือ เขาคือลูกชายของเจ้าของร้านที่ฉันทำงานอยู่!',
      'ตำรวจโทรแจ้งคุณป้าเจ้าของร้านเพื่อเล่าเรื่องที่เกิดขึ้น คำพูดของเธอทำให้ฉันแทบลุกไม่ขึ้น...',
      '“ก็รู้ว่าลูกชายเป็นแบบนี้มานานแล้ว แต่ไม่รู้จะทำยังไง เลยไม่อยากยุ่ง”\n“ช่วยปิดเรื่องนี้ไว้ได้มั้ย เด็กคนนั้นก็ไม่ตายนี่จะเอาเงินเท่าไหร่ล่ะ?”',
      'แม้แต่ตำรวจบางคนก็มีท่าทีลังเลราวกับจะเข้าข้างเขา ฉันนั่งตัวสั่นไม่กล้าพูดอะไร...แต่โชคดีที่ยังมีบิ๊กและเพื่อน ๆ อยู่ข้างฉัน พวกเขาไม่ยอมให้เรื่องจบแค่นั้น และพยายามจะเอาผิดให้ถึงที่สุด',
      'ในเวลาต่อมา เรื่องของฉันกลายเป็นข่าว และถูกแชร์ในโลกออนไลน์ ฉันไม่เคยคิดเลย...ว่าตัวเองจะกลายเป็นเหยื่อของโรคจิตแบบนี้',
      'มันสอนให้ฉันรู้ว่า...\nเหตุการณ์เลวร้ายแบบนี้ ไม่ใช่เรื่องไกลตัวเลย\nมันสามารถเกิดขึ้นกับใครก็ได้ — แม้แต่คุณที่กำลังฟังเรื่องของฉันในตอนนี้...'
    ];

    const captionEl = document.getElementById('caption-text');
    let index = 0;

    function nextLine() {
      if (index >= lines.length) {
        window.location.href = "Night5-last-night.html"; // ไปหน้าต่อ
        return;
      }

      const text = lines[index];
      let html = '';

      if (text.includes(':')) {
        const speaker = text.split(':')[0].trim();
        const content = text.split(':').slice(1).join(':').trim();
        let className = '';

        if (speaker === 'ฝน') className = 'fon';
        else if (speaker === 'ไทม์') className = 'time';
        else if (speaker === 'บิ๊ก') className = 'teen';
        else className = 'speaker';

        html = `<div class="caption-line"><span class="speaker ${className}">${speaker}:</span> ${content}</div>`;
      } else {
        html = `<div class="caption-line narration">${text.replace(/\n/g, "<br>")}</div>`;
      }

      captionEl.innerHTML = '';
      const wrapper = document.createElement('div');
      wrapper.className = 'fade-in';
      wrapper.innerHTML = html;
      captionEl.appendChild(wrapper);

      index++;
    }

    window.onload = () => {
      nextLine();
    };
  </script>
</body>
</html>
