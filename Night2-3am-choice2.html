<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>5 ‡∏Ñ‡∏∑‡∏ô‡∏™‡∏¢‡∏≠‡∏á - ‡∏ï‡∏µ 3 (‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡πà‡∏≠)</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="Night2-3am-choice2.css">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Kanit', sans-serif; }
    body {
      background-color: #111;
      color: white;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      align-items: center;
      padding: 20px;
      text-align: center;
      cursor: pointer;
    }
    .scene-container { width: 100%; max-width: 640px; }
    .text-box {
      font-size: 1.05rem;
      min-height: 80px;
      opacity: 0;
      transition: opacity 0.6s ease-in-out;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: pre-line;
    }
    .note { font-size: 0.9rem; color: #888; opacity: 0; transition: opacity 0.5s ease; margin-bottom: 30px; }
    .note.visible { opacity: 1; }

    /* ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á */
    .volume-controls {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(0,0,0,0.3);
      padding: 6px 10px;
      border-radius: 8px;
      z-index: 1000;
    }
    .volume-controls input[type="range"] { width: 120px; accent-color: red; }
    .volume-button { background-color: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); border-radius: 6px; padding: 6px 10px; color: white; font-weight: bold; cursor: pointer; }
  </style>
</head>
<body onclick="handleClick()">
  <div class="scene-container">
    <div class="text-box" id="text-box"></div>
    <div class="note" id="note">‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏Ñ‡∏∑‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ...</div>
  </div>

  <!-- ‡πÄ‡∏û‡∏•‡∏á background -->
  <audio id="bg-music" src="sounds/scary-horror-atmosphere-176754.mp3" preload="auto" loop></audio>
  <!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á bell -->
  <audio id="bell-sound" src="sounds/bell-98033.mp3" preload="auto"></audio>

  <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á -->
  <div class="volume-controls" onclick="event.stopPropagation()">
    <button class="volume-button" id="vol-down">üîâ</button>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01">
    <button class="volume-button" id="vol-up">üîä</button>
  </div>

  <script>
    const textBox = document.getElementById("text-box");
    const note = document.getElementById("note");

    const texts = [
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡πÄ‡∏≠‡∏≤‡πÄ‡∏ñ‡∏≠‡∏∞... ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤",
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡∏á‡πà‡∏ß‡∏á‡∏à‡∏±‡∏á...",
      "[‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏£‡πâ‡∏≤‡∏ô‡∏î‡∏±‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö]",
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ...?",
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏µ‡πâ...‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÉ‡∏ä‡πà‡∏°‡∏±‡πâ‡∏¢?",
      "‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏ô‡πà‡∏∞?",
      "‡∏´‡∏π‡∏ù‡∏≤‡∏î‡∏≠‡∏µ‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡∏£‡∏≠...‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà...",
      "‡πÄ‡∏Æ‡πâ‡∏≠...‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡πÄ‡∏£‡πá‡∏ß ‡πÜ ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ñ‡∏≠‡∏∞"
    ];

    let index = 0;
    let finished = false;
    let firstClick = true;

    const bgMusic = document.getElementById('bg-music');
    const bellSound = document.getElementById('bell-sound');
    const volumeSlider = document.getElementById('volumeSlider');
    const volUp = document.getElementById('vol-up');
    const volDown = document.getElementById('vol-down');

    // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    bgMusic.volume = 0.5;
    volumeSlider.value = bgMusic.volume;

    function handleClick() {
      if (firstClick) {
        bgMusic.play().catch(err => console.log("‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:", err));
        firstClick = false;
      }

      if (finished) {
        window.location.href = "END-Night2.html";
        return;
      }
      showNextText();
    }

    function showNextText() {
      textBox.style.opacity = 0;

      setTimeout(() => {
        if (index < texts.length) {
          const line = texts[index++];
          textBox.textContent = line;
          textBox.style.opacity = 1;

          // ‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô "[‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏£‡πâ‡∏≤‡∏ô‡∏î‡∏±‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö]" ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á bell
          if (line === "[‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏£‡πâ‡∏≤‡∏ô‡∏î‡∏±‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö]") {
            bellSound.currentTime = 0;
            bellSound.play().catch(err => console.log("‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á bell ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:", err));
          }

          if (index === texts.length) {
            setTimeout(() => {
              note.classList.add("visible");
              finished = true;
            }, 600);
          }
        }
      }, 400);
    }

    window.onload = showNextText;

    // ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á
    volUp.addEventListener('click', e => { e.stopPropagation(); bgMusic.volume = Math.min(bgMusic.volume + 0.1, 1); volumeSlider.value = bgMusic.volume; });
    volDown.addEventListener('click', e => { e.stopPropagation(); bgMusic.volume = Math.max(bgMusic.volume - 0.1, 0); volumeSlider.value = bgMusic.volume; });
    volumeSlider.addEventListener('input', e => { bgMusic.volume = e.target.value; });
  </script>
</body>
</html>
