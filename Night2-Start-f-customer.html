<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>5 ‡∏Ñ‡∏∑‡∏ô‡∏™‡∏¢‡∏≠‡∏á - ‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏µ‡πà 2</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="Night2-Start-f-customer.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Kanit', sans-serif;
    }

    body {
      background-image: url('images/bored-face.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      color: white;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      align-items: center;
      padding: 20px;
      overflow: hidden;
      cursor: pointer;
      transition: background-image 1s ease-in-out;
    }

    .scene-container {
      width: 100%;
      max-width: 700px;
      text-align: center;
    }

    #night-label {
      font-size: 1.4rem;
      font-weight: bold;
      opacity: 0;
      margin-bottom: 20px;
      transition: opacity 1s ease-in-out;
    }

    .text-box {
      font-size: 1.05rem;
      opacity: 0;
      transition: opacity 0.6s ease-in-out;
      margin-bottom: 20px;
    }

    .choices {
      display: none;
      flex-direction: row;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      padding: 0;
      background-color: transparent;
      border-radius: 0;
    }

    /* ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏™ */
    .choice-button {
      padding: 12px 20px;
      font-size: 1rem;
      background-color: transparent;
      border: 2px solid rgba(255,255,255,0.6);
      border-radius: 10px;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 240px;
      text-align: center;
      white-space: nowrap;
      margin: 0;
    }

    .choice-button:hover {
      background-color: rgba(255, 0, 0, 0.6);
      color: white;
      transform: scale(1.03);
    }

    /* ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á */
    .volume-controls {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(0,0,0,0.3);
      padding: 6px 10px;
      border-radius: 8px;
      z-index: 1000;
    }

    .volume-controls input[type="range"] {
      width: 120px;
      accent-color: red;
    }

    .volume-button {
      background-color: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 6px;
      padding: 6px 10px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .volume-button:hover {
      background-color: rgba(255,255,255,0.3);
      color: #ff5555;
      transform: scale(1.05);
    }
  </style>
</head>
<body onclick="nextText()">
  <div class="scene-container">
    <div id="night-label">‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏µ‡πà 2</div>
    <div class="text-box" id="text-box"></div>
    <div class="choices" id="choice-box">
      <button class="choice-button" onclick="selectChoice(1)">‡∏Å‡∏•‡∏±‡∏ß</button>
      <button class="choice-button" onclick="selectChoice(2)">‡πÑ‡∏°‡πà‡∏Å‡∏•‡∏±‡∏ß</button>
    </div>
  </div>

  <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á -->
  <div class="volume-controls" onclick="event.stopPropagation()">
    <button class="volume-button" id="vol-down">üîâ</button>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01">
    <button class="volume-button" id="vol-up">üîä</button>
  </div>

  <!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á background & sound effects -->
  <audio id="bg-music" src="sounds/scary-horror-atmosphere-176754.mp3" loop></audio>
  <audio id="walk-sound" src="sounds/walking-on-concrete-ver-2-268513 (2).mp3"></audio>
  <audio id="warning-sound" src="sounds/horror-orchestra-warning-338415.mp3"></audio>

  <script>
    const textBox = document.getElementById("text-box");
    const choiceBox = document.getElementById("choice-box");
    const nightLabel = document.getElementById("night-label");

    const bgMusic = document.getElementById("bg-music");
    const walkSound = document.getElementById("walk-sound");
    const warningSound = document.getElementById("warning-sound");

    const volumeSlider = document.getElementById("volumeSlider");
    const volUp = document.getElementById("vol-up");
    const volDown = document.getElementById("vol-down");

    const texts = [
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡πÄ‡∏Æ‡πâ‡∏≠‡∏≠‡∏≠...‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ô‡πâ‡∏≠‡∏¢‡∏à‡∏±‡∏á",
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡πÑ‡∏õ‡πÄ‡∏≠‡∏≤‡∏Ç‡∏≠‡∏á‡∏°‡∏≤‡πÄ‡∏ï‡∏¥‡∏°‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤",
      "(‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏î‡∏±‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡∏≠‡∏á...)", // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏¥‡∏ô
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: (‡∏´‡∏∑‡∏°? ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏°‡∏≤‡πÄ‡∏´‡∏£‡∏≠)",
      "‡∏â‡∏±‡∏ô‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏ô‡∏±‡πà‡∏ô‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡πÅ‡∏ô‡πà‡πÜ ‡πÅ‡∏ï‡πà‡∏û‡∏≠‡∏Å‡∏ß‡∏≤‡∏î‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÑ‡∏õ‡∏£‡∏≠‡∏ö‡πÜ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏Ñ‡∏£‡πÄ‡∏•‡∏¢...",
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡πÅ‡∏õ‡∏•‡∏Å‡∏à‡∏±‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏â‡∏±‡∏ô‡∏´‡∏π‡∏ù‡∏≤‡∏î‡∏ô‡∏∞", // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏¥‡∏ô
      "‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡πÅ‡∏°‡πà‡∏´‡∏ô‡∏π...", // ‡πÄ‡∏•‡πà‡∏ô warning + ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏†‡∏≤‡∏û
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡∏ß‡πä‡∏≤‡∏¢‡∏¢!! ‡∏Ñ‡∏∞ ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏≤‡∏¢!?",
      "‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏ï‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß..‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏Å‡πÉ‡∏à‡∏ô‡∏∞‡πÅ‡∏°‡πà‡∏´‡∏ô‡∏π",
      "‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡∏°‡∏∞ ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£‡∏Ñ‡πà‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏≤‡∏¢",
      "‡∏â‡∏±‡∏ô‡πÄ‡∏´‡∏á‡∏∑‡πà‡∏≠‡∏ï‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏î‡∏π‡∏ä‡∏£‡∏≤‡∏°‡∏≤‡∏Å‡πÄ‡∏Ç‡∏≤‡∏¢‡∏∑‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô ‡πÅ‡∏ï‡πà‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡πÅ‡∏õ‡∏•‡∏Å‡πÉ‡∏à‡∏¢‡∏¥‡πà‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏ò‡∏≠‡πÄ‡∏î‡∏¥‡∏ô‡∏°‡∏≤‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏á....",
      "‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏à‡∏±‡∏á‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÑ‡∏°‡πà‡∏Å‡∏•‡∏±‡∏ß‡∏ú‡∏µ‡πÄ‡∏´‡∏£‡∏≠?"
    ];

    let index = 0;
    let isTransitioning = false;
    let hasShownNightTitle = false;
    let started = false;

    function nextText() {
      if (!started) {
        bgMusic.volume = 0.5;
        bgMusic.play().catch(e => console.log("bg-music play error:", e));
        volumeSlider.value = bgMusic.volume;
        started = true;
      }

      if (isTransitioning) return;
      isTransitioning = true;

      if (!hasShownNightTitle) {
        nightLabel.style.opacity = 1;
        setTimeout(() => {
          nightLabel.style.opacity = 0;
          hasShownNightTitle = true;
          isTransitioning = false;
        }, 1500);
        return;
      }

      if (index < texts.length) {
        textBox.style.opacity = 0;
        setTimeout(() => {
          const currentText = texts[index++];
          textBox.textContent = currentText;

          // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏¥‡∏ô
          if (currentText.includes("‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏¥‡∏ô")) {
            walkSound.play();
          }

          // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏¥‡∏ô
          if (currentText.includes("‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡πÅ‡∏õ‡∏•‡∏Å‡∏à‡∏±‡∏á")) {
            walkSound.pause();
            walkSound.currentTime = 0;
          }

          // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á warning + ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏†‡∏≤‡∏û
          if (currentText.includes("‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡πÅ‡∏°‡πà‡∏´‡∏ô‡∏π")) {
            warningSound.play();
            document.body.style.backgroundImage = "url('images/old-woman.png')";
          }

          textBox.style.opacity = 1;
          isTransitioning = false;
        }, 400);
      } else {
        textBox.style.display = "none";
        choiceBox.style.display = "flex";
        isTransitioning = false;
      }
    }

    function selectChoice(choice) {
      if (choice === 1) {
        window.location.href = "Night2-f-customer-choice1.html";
      } else {
        window.location.href = "Night2-f-customer-choice2.html";
      }
    }

    // ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á
    volUp.addEventListener("click", e => {
      e.stopPropagation();
      bgMusic.volume = Math.min(bgMusic.volume + 0.1, 1);
      volumeSlider.value = bgMusic.volume;
    });

    volDown.addEventListener("click", e => {
      e.stopPropagation();
      bgMusic.volume = Math.max(bgMusic.volume - 0.1, 0);
      volumeSlider.value = bgMusic.volume;
    });

    volumeSlider.addEventListener("input", e => {
      bgMusic.volume = e.target.value;
    });
  </script>
</body>
</html>
