<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>5 คืนสยอง - ลูกค้าคนที่ 2</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="Night2-second-customer.css">
</head>
<body>
  <div class="scene-container">
    <div class="caption" id="caption-text"></div>
    <div class="note" id="note">แตะหน้าจอเพื่อไปยังหน้าถัดไป...</div>
  </div>

  <script>
    const captions = [
      "น้ำฝน: เฮ้ออ หรือว่าฉันจะคิดไปเองจริงๆ?",
      "น้ำฝน: หืม?",
      "น้ำฝน: อ้าว สวัสดีค่ะพี่ไทม์",
      "ไทม์: เป็นไงฝน ทำงานเหนื่อยมั้ย",
      "น้ำฝน: ไม่เหนื่อยค่ะ วันนี้ลูกค้าไม่ค่อยเยอะฝนเลยมีเวลาพักบ้าง",
      "ไทม์: ดีแล้วๆ เออแล้วเราได้ข่าวรึยังว่ามีคนตายแถวนี้",
      "น้ำฝน: คะ?",
      "ไทม์: ก็ลุงคนนั้นไง ที่ซื้อเครื่องดื่มให้ฝน",
      "น้ำฝน: อ้าวจริงเหรอพี่!?",
      "(เดี๋ยวก่อนสิ..เขารู้ได้ยังไงว่าคืนนั้นลุงซื้อเครื่องดื่มให้ฉัน?)",
      "ไทม์: เห็นว่าโดนรถชนตอนเดินกลับ",
      "น้ำฝน: อ๋อ...แล้วพี่รู้ได้ยังไงว่าลุงซื้อเครื่องดื่มให้หนู",
      "ไทม์: ...",
      "บรรยากาศในร้านตอนนั้นเต็มไปด้วยความเงียบ\nพี่ไทม์นิ่งและมองฉันเขาไม่พูดอะไรเลยสักคำ...\nเขาเอาแต่จ้องมาที่ฉันจนรู้สึกขนลุกไปทั้งตัว",
      "น้ำฝน: เอ่อ พี่ไทม์?",
      "ไทม์: ห๊ะ อะไร? อ๋อ พี่รู้ได้ไงน่ะเหรอก็ลุงแกชอบทำแบบนี้เป็นประจำไงพนักงานร้านอื่นก็ได้รับเครื่องดื่มเหมือนกัน",
      "น้ำฝน: .....",
      "เขายิ้มให้ฉัน..เป็นรอยยิ้มที่น่าขนลุก\nฉันทำได้แค่ยิ้มตอบและไม่พูดอะไรออกไป\nฉันพยายามไม่คิดอะไรและตั้งใจทำงานต่อ..จนถึงเวลา ตี 3"
    ];

    const captionElem = document.getElementById('caption-text');
    const note = document.getElementById('note');
    let index = 0;
    let readyToGoNext = false;

    function showNextCaption() {
      if (index < captions.length) {
        captionElem.style.opacity = 0;
        setTimeout(() => {
          captionElem.textContent = captions[index++];
          captionElem.style.opacity = 1;

          if (index === captions.length) {
            setTimeout(() => {
              note.classList.add("visible");
              readyToGoNext = true;
            }, 800);
          }
        }, 400);
      }
    }

    document.body.onclick = () => {
      if (readyToGoNext) {
        window.location.href = "Night2-3am.html";
        return;
      }
      showNextCaption();
    };

    window.onload = () => {
      showNextCaption();
      setTimeout(() => {
        document.body.style.backgroundImage = "url('images/P-time-smile.png')";
      }, 5000);
    };
  </script>
</body>
</html>
