<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏≤‡∏ù‡∏ô - ‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏´‡∏≠‡∏°</title>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Prompt', sans-serif;
      user-select: none;
      cursor: pointer;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      overflow: hidden;
      background: #000;
    }

    .bg-container {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .bg-container img {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }

    .bg-container img.active {
      opacity: 1;
    }

    .scene-container {
      width: 100%;
      max-width: 600px;
      text-align: center;
      font-size: 1.2rem;
      line-height: 1.7;
      white-space: pre-line;
      min-height: 180px;
      margin-bottom: 20px;
      color: white;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.9);
    }

    .caption-line { margin: 1em 0; }
    .narration { font-style: italic; color: #f0f0f0; }

    .speaker { font-weight: 600; margin-right: 0.4em; }
    .fon { color: #ffffff; }
    .time { color: #ffffff; }
    .teen { color: #ffffff; }

    .volume-controls {
      position: fixed;
      top: 15px;
      right: 15px;
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(0,0,0,0.6);
      padding: 6px 10px;
      border-radius: 8px;
      z-index: 9999;
    }
    .volume-button {
      background: transparent;
      border: none;
      color: red;
      font-size: 18px;
      cursor: pointer;
    }
    #volumeSlider {
      width: 100px;
      cursor: pointer;
      accent-color: red;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .fade-in { animation: fadeIn 0.6s ease-out both; }

  </style>
</head>
<body>
  <div class="bg-container">
    <img src="images/Run-away2.png" class="active" id="bg0" />
    <img src="images/male-teenager.png" id="bg1" />
    <img src="images/time-run-aways.png" id="bg2" />
    <img src="images/cry.png" id="bg3" />
    <img src="images/police-station.png" id="bg4" />
  </div>

  <div class="scene-container">
    <div id="caption-text"></div>
  </div>

  <div class="volume-controls" onclick="event.stopPropagation()">
    <button class="volume-button" id="vol-down">üîâ</button>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
    <button class="volume-button" id="vol-up">üîä</button>
  </div>

  <audio id="bgSound" loop>
    <source src="sounds/bass-horror-movie-pad-391595.mp3" type="audio/mpeg">
  </audio>

  <script>
    const lines = [
      '‡πÅ‡∏•‡∏∞‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÇ‡∏ä‡∏Ñ‡∏Å‡πá‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≤‡∏á‡∏â‡∏±‡∏ô ‡πÅ‡∏™‡∏á‡∏à‡∏≤‡∏Å‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ã‡∏ï‡πå‡∏Ñ‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏™‡∏≤‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏∑‡∏î ‡∏â‡∏±‡∏ô‡πÄ‡∏´‡πá‡∏ô‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏à‡∏∂‡∏á‡∏£‡∏µ‡∏ö‡πÄ‡∏õ‡∏•‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠',
      '‡∏ù‡∏ô: ‡∏ä‡πà‡∏ß‡∏¢‡∏î‡πâ‡∏ß‡∏¢! ‡∏à‡∏≠‡∏î‡∏£‡∏ñ‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏∞!',
      '‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô: ?',
      '‡∏ù‡∏ô: (‡∏ô‡∏µ‡πà‡∏°‡∏±‡∏ô‡πÄ‡∏î‡πá‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏°‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô‡∏ô‡∏µ‡πà!?)',
      '‡∏ù‡∏ô: ‡∏ô‡πâ‡∏≠‡∏á! ‡∏ä‡πà‡∏ß‡∏¢‡∏û‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞! ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏à‡∏∞‡∏Ç‡πà‡∏°‡∏Ç‡∏∑‡∏ô‡∏û‡∏µ‡πà!',
      '‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô: ‡∏´‡πä‡∏∞? ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÜ‡∏û‡∏µ‡πà‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô',
      '‡∏ù‡∏ô: ‡∏ä‡πà‡∏ß‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏ô‡πâ‡∏≠‡∏á ‡∏û‡∏µ‡πà‡∏Å‡∏•‡∏±‡∏ß',
      '‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏â‡∏±‡∏ô‡∏Å‡πá‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πá‡∏Å‡∏Ñ‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡πÑ‡∏õ‡∏™‡πà‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏£‡∏á‡∏û‡∏±‡∏Å ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏ó‡∏°‡πå..‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏Ç‡∏≤‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÑ‡∏´‡∏ô‡πÅ‡∏ï‡πà‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏´‡∏≠‡∏°‡∏â‡∏µ‡∏î‡πÉ‡∏™‡πà‡∏ï‡∏≤‡πÄ‡∏Ç‡∏≤‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ú‡∏•',
      '‡∏â‡∏±‡∏ô‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏ï‡∏±‡∏ß‡∏™‡∏±‡πà‡∏ô ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡πÑ‡∏´‡∏•‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏î‡∏Å‡∏•‡∏±‡∏ß ‡πÄ‡∏î‡πá‡∏Å‡∏Ñ‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏î‡∏π‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏±‡∏ö‡∏ï‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡πÅ‡∏ï‡πà‡πÄ‡∏Ç‡∏≤‡∏Å‡πá‡∏¢‡∏≠‡∏°‡πÑ‡∏õ‡∏™‡πà‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏£‡∏á‡∏û‡∏±‡∏Å',
      '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ñ‡∏∂‡∏á‡πÇ‡∏£‡∏á‡∏û‡∏±‡∏Å ‡∏Ñ‡∏ô‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏â‡∏±‡∏ô‡∏ï‡πà‡∏≤‡∏á‡∏ï‡∏Å‡πÉ‡∏à‡∏°‡∏≤‡∏Å ‡∏ö‡∏¥‡πä‡∏Å‡∏£‡∏µ‡∏ö‡∏°‡∏≤‡∏´‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏£‡∏π‡πâ‡∏Ç‡πà‡∏≤‡∏ß ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏Å‡πá‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏™‡∏°‡∏ó‡∏ö‡πÉ‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏°‡πà‡∏ô‡∏≤‡∏ô',
      '‡∏â‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏£‡∏π‡∏õ‡∏û‡∏£‡∏£‡∏ì‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏£‡πâ‡∏≤‡∏¢ ‡πÉ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏û‡∏π‡∏î ‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏à‡∏∂‡∏á‡∏Ñ‡πâ‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á ‚Äî ‡πÅ‡∏•‡∏∞‡∏ô‡∏±‡πà‡∏ô‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏â‡∏±‡∏ô‡∏ä‡πá‡∏≠‡∏Å‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‚Ä¶',
      '‡∏û‡∏µ‡πà‡πÑ‡∏ó‡∏°‡πå‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏£‡∏Ñ‡∏à‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏Å‡πà‡∏≠‡πÄ‡∏´‡∏ï‡∏∏‡πÉ‡∏ô‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á',
      '‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏ï‡∏Å‡πÉ‡∏à‡∏¢‡∏¥‡πà‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡∏∑‡∏≠ ‡πÄ‡∏Ç‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏•‡∏π‡∏Å‡∏ä‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà!',
      '‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡πÇ‡∏ó‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏∏‡∏ì‡∏õ‡πâ‡∏≤‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô ‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏â‡∏±‡∏ô‡πÅ‡∏ó‡∏ö‡∏•‡∏∏‡∏Å‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô...',
      '‚Äú‡∏Å‡πá‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏•‡∏π‡∏Å‡∏ä‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡∏ô‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡∏¢‡∏±‡∏á‡πÑ‡∏á ‡πÄ‡∏•‡∏¢‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏¢‡∏∏‡πà‡∏á‚Äù',
      '‚Äú‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏°‡∏±‡πâ‡∏¢‡∏ß‡πà‡∏≤‡∏•‡∏π‡∏Å‡∏ä‡∏≤‡∏¢‡∏â‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏≥‡∏£‡πâ‡∏≤‡∏¢‡πÄ‡∏î‡πá‡∏Å‡∏Ñ‡∏ô‡∏ô‡∏±‡πâ‡∏ô ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡πá‡∏≠‡∏¢‡πà‡∏≤‡∏°‡∏≤‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏´‡∏≤‡∏Å‡∏±‡∏ô‡∏™‡∏¥?‚Äù',
      '‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏ñ‡∏π‡∏Å ‚Äú‡πÑ‡∏ó‡∏°‡πå‚Äù ‡∏ó‡∏≥‡∏£‡πâ‡∏≤‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏°‡∏≤‡∏™‡∏≠‡∏ö‡∏õ‡∏≤‡∏Å‡∏Ñ‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏î‡∏µ‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏û‡∏≠',
      '‡∏™‡πà‡∏ß‡∏ô‡∏â‡∏±‡∏ô‚Ä¶',
      '‡∏â‡∏±‡∏ô‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡∏≥‡∏£‡∏ß‡∏à ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏£‡∏π‡πâ‡∏î‡∏µ‡∏ß‡πà‡∏≤‡∏â‡∏±‡∏ô‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ',
      '‡∏°‡∏±‡∏ô‡∏™‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏â‡∏±‡∏ô‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤...',
      '‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏•‡∏ß‡∏£‡πâ‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏Å‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏¢',
      '‡∏°‡∏±‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ ‚Äî ‡πÅ‡∏°‡πâ‡πÅ‡∏ï‡πà‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡πÉ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ...'
    ];

    const captionEl = document.getElementById('caption-text');
    const bgImgs = document.querySelectorAll('.bg-container img');
    let index = 0;
    let soundStarted = false;

    const bgSound = document.getElementById('bgSound');
    const slider = document.getElementById("volumeSlider");
    const volDown = document.getElementById("vol-down");
    const volUp = document.getElementById("vol-up");

    slider.addEventListener("input", () => { bgSound.volume = parseFloat(slider.value); });
    volDown.addEventListener("click", () => { let v = Math.max(0, bgSound.volume-0.1); bgSound.volume=v; slider.value=v.toFixed(2); });
    volUp.addEventListener("click", () => { let v = Math.min(1, bgSound.volume+0.1); bgSound.volume=v; slider.value=v.toFixed(2); });

    function updateBackground(lineIndex) {
      bgImgs.forEach(img => img.classList.remove('active'));

      if (lineIndex >= 2 && lineIndex <= 6) bgImgs[1].classList.add('active'); // male-teenager
      else if (lineIndex === 7) bgImgs[2].classList.add('active'); // time-run-aways
      else if (lineIndex === 8) bgImgs[3].classList.add('active'); // cry
      else if (lineIndex >= 9) bgImgs[4].classList.add('active'); // police-station
      else bgImgs[0].classList.add('active'); // default run-away2
    }

    function nextLine() {
      if (!soundStarted) {
        bgSound.volume = parseFloat(slider.value);
        bgSound.play().catch(e => console.log("Autoplay blocked:", e));
        soundStarted = true;
      }

      if (index >= lines.length) {
        window.location.href = "Night5-last-night.html";
        return;
      }

      updateBackground(index);

      const text = lines[index];
      let html = '';
      if (text.includes(':')) {
        const speaker = text.split(':')[0].trim();
        const content = text.split(':').slice(1).join(':').trim();
        let className = '';
        if (speaker === '‡∏ù‡∏ô') className = 'fon';
        else if (speaker === '‡πÑ‡∏ó‡∏°‡πå') className = 'time';
        else if (speaker === '‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô') className = 'teen';
        else className = 'speaker';
        html = `<div class="caption-line"><span class="speaker ${className}">${speaker}:</span> ${content}</div>`;
      } else {
        html = `<div class="caption-line narration">${text.replace(/\n/g, "<br>")}</div>`;
      }

      captionEl.innerHTML = '';
      const wrapper = document.createElement('div');
      wrapper.className = 'fade-in';
      wrapper.innerHTML = html;
      captionEl.appendChild(wrapper);

      index++;
    }

    window.addEventListener('DOMContentLoaded', () => {
      document.body.addEventListener('click', nextLine);
    });
  </script>
</body>
</html>
